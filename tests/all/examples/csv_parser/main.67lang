note the task given
	Read a newline-separated list of strings (simulate lines of a CSV file).
	Assume the first line is a comma-separated list of headers.
	Parse each subsequent line into a “row object” (i.e. a map from header → value).
	Store all rows in a list, and then:
	Print each row’s "name" field (or whatever is in column 0, if you don’t want to special-case).
	Count how many rows have "age" > 30, assuming one of the columns is age.

local lines
	pls do stdin
	# okay i am seeing a reason to stop treating builtins as special, or at the very least to expose them in the scope object

local lines
	pls do split the lines
		string "\n"

local i
	int 0
local header
	list
		type named str
local rows
	list
		type named dict
			type named str for K
			type named str for V
solution
	point loops each line
		pls get lines
	if
		pls do eq?
			pls get i
			int 0
		then
			pls do split the line into header
				string ","
		else
			local zipped_data
				pls do zip
					pls get header
					pls do split the line
						string ","
			
			local row
				dict
					type named str for K
					type named str for V
			
			solution
				point loops each kv
					pls get zipped_data
				pls do # the row
					pls get 0 from kv
					pls get 1 from kv
			
			pls do push the rows
				pls get row
	
	pls do sum
		pls get i
		int 1
	then do i

solution
	point loops each row
		pls get rows
	pls do print
		pls get # from row
			string "name"

local age_over_30
	int 0
solution
	point loops each row
		pls get rows
	if
		note TODO - the test case should probably strain this asc
			on what happens if age is 30
		pls do asc?
			pls do int:parse
				pls do # the row
					string "age"
			int 30
		then
			pls do sum into age_over_30
				pls get age_over_30
				int 1

pls do print
	pls get age_over_30
