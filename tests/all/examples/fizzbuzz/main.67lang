local fizz_divisor
	int 0
local buzz_divisor
	int 0
local n
	int 0

note TODO add prompting tests...
	if
		pls do is_tty
		then
			pls do prompt into fizz_divisor
				string "fizz? "
			pls do prompt into buzz_divisor
				string "buzz? "
			pls do prompt into n
				string "n? "
		else
yo
	local input
		pls do stdin
	
	local input
		pls do split the input
			string "\n"
	
	# TODO: instead we should be able to just specify a mapping and unroll this automatically i.e. {0: fizz_divisor, ...}

	pls do #
		pls get input
		int 0
	then do int:parse into fizz_divisor

	pls do #
		pls get input
		int 1
	then do int:parse into buzz_divisor

	pls do #
		pls get input
		int 2
	then do int:parse into n

local i
	int 0
solution
	point loops forever
	if
		pls do desc?
			pls get i
			pls get n
		then
			break
	local out
		string ""
	
	if
		pls do eq?
			pls do div(int,remainder)
				pls get i
				pls get fizz_divisor
			int 0
		then
			pls do cat into out
				pls get out
				string "fizz"

	if
		pls do eq?
			pls do div(int,remainder)
				pls get i
				pls get buzz_divisor
			int 0
		then
			pls do cat into out
				pls get out
				string "buzz"
	
	if
		pls do eq?
			pls get out
			string ""
		then
			pls do cat into out
				note TODO why is this needed
				string ""
				pls do str the i

	pls do print
		pls get out
	
	pls do i
		local _fix_the_fucking_add_return_type
			type named int
			pls do sum
				pls get i
				int 1
