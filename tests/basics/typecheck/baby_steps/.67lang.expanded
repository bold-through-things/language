67lang:file
	# these are expected to pass

	do
		local test
			type int

			int 0

		local test_1
			type int

			local _0x1_test
				67lang:access_local test

				67lang:auto_type

		local _0x4_test
			67lang:access_local test
				local _0x3_test_1
					67lang:access_local test_1

					67lang:auto_type

			67lang:auto_type

		do
			local test_1
				type int

				local _0x6_test
					67lang:access_local test

					67lang:auto_type

			local _0x9_test
				67lang:access_local test
					local _0x8_test_1
						67lang:access_local test_1

						67lang:auto_type

				67lang:auto_type

	# these are expected to fail

	do
		local test
			type int

			string "test"

	do
		local test_str
			type str

			# TODO - since we do not null by default - this should here also error!

		local test_int
			type int

			local _0xd_test_str
				67lang:access_local test_str

				67lang:auto_type

		local _0x10_test_int
			67lang:access_local test_int
				local _0xf_test_str
					67lang:access_local test_str

					67lang:auto_type

			67lang:auto_type

		do
			local _0x12_test_str
				67lang:access_local test_str
					int 0

				67lang:auto_type

			local test_bool
				type bool

				local _0x13_test_str
					67lang:access_local test_str

					67lang:auto_type

			local _0x19_test_bool
				67lang:access_local test_bool
					noscope
						local _0x15_test_str
							67lang:access_local test_str

							67lang:auto_type

						local _0x16_split
							67lang:call split
								67lang:access_local _0x15_test_str

							67lang:auto_type

						local _0x17_sort
							67lang:call sort
								67lang:access_local _0x16_split

							67lang:auto_type

					local _0x18_join
						67lang:call join
							67lang:access_local _0x17_sort

						67lang:auto_type

				67lang:auto_type

			noscope
				local _0x1e_test_bool
					67lang:access_local test_bool

					67lang:auto_type

			local _0x1f_split
				67lang:call split
					67lang:access_local _0x1e_test_bool

				67lang:auto_type

			noscope
				local _0x20_test_str
					67lang:access_local test_str

					67lang:auto_type

				local _0x21_split
					67lang:call split
						67lang:access_local _0x20_test_str

					67lang:auto_type

				local _0x22_split
					67lang:call split
						67lang:access_local _0x21_split

					67lang:auto_type

			local _0x23_split
				67lang:call split
					67lang:access_local _0x22_split

				67lang:auto_type


